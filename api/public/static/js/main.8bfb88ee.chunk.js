(this.webpackJsonppixmixr=this.webpackJsonppixmixr||[]).push([[0],{23:function(e,a,t){e.exports=t(37)},29:function(e,a,t){},30:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(19),u=t.n(r),i=t(21),c=t(1),s=t(10),o=t.n(s),v=t(14),m=t(5),d=t(7),p=t(20),f=function(e){return{type:"MIN",val:e}},b=function(e){return{type:"MAX",val:e}},E=(t(29),function(e,a){var t=function(e,a){var t,l=!0,n="",r=Object(p.a)(a);try{for(r.s();!(t=r.n()).done;){var u=t.value;if("REQUIRE"===u.type&&(l=e.trim().length>0||e>0,n="This field is required.",!l))break;if("MINLENGTH"===u.type&&(l=l&&e.trim().length>=u.val,n="This field must be at least ".concat(u.val," characters."),!l))break;if("MAXLENGTH"===u.type&&(l=l&&e.trim().length<=u.val,n="This field cannot be more than ".concat(u.val," characters."),!l))break;if("MIN"===u.type&&(l=Number(e)>=u.val,n="This field must have a value of at least ".concat(u.val,"."),!l))break;if("MAX"===u.type&&(n=(l=Number(e)<=u.val)?"":"This field cannot have a value more than ".concat(u.val,"."),!l))break;if("EMAIL"===u.type&&(l=l&&/^\S+@\S+\.\S+$/.test(e),n="This field must be a valid email.",!l))break;if("NUMBER"===u.type&&(l=l&&!isNaN(e.trim()),n="This field must be a number.",!l))break}}catch(i){r.e(i)}finally{r.f()}return{valid:l,error:n}}(a.value,a.validators);switch(a.type){case"CHANGE":return Object(d.a)(Object(d.a)({},e),{},{value:a.value,valid:t.valid,error:t.error});case"TOUCH":return Object(d.a)(Object(d.a)({},e),{},{isTouched:!0,value:a.value,valid:t.valid,error:t.error});default:return e}}),h=function(e){var a=Object(l.useReducer)(E,{value:e.value,isTouched:!1,valid:e.valid,error:""}),t=Object(m.a)(a,2),r=t[0],u=t[1],i=e.id,c=e.onInput,s=r.value,o=r.valid;Object(l.useEffect)((function(){c(i,s,o)}),[i,c,o,s]);var v=function(a){u({type:"CHANGE",value:a.target.value,validators:e.validators})},d=function(a){u({type:"TOUCH",value:a.target.value,validators:e.validators})},p="input"===e.element?n.a.createElement("input",{id:e.id,type:e.type,placeholder:e.label,onChange:v,onBlur:d,value:r.value,min:e.min,max:e.max}):"toggle"===e.element?n.a.createElement("label",{className:"toggle",htmlFor:e.id},n.a.createElement("input",{id:e.id,type:e.type,placeholder:e.label,onChange:v,onBlur:d,value:r.value,min:e.min,max:e.max}),n.a.createElement("span",{className:"slider round"}),n.a.createElement("span",{className:"label"},e.label)," ",e.subLabel&&n.a.createElement("span",null,e.subLabel)):"textarea"===e.element?n.a.createElement("textarea",{id:e.id,className:e.class,rows:e.rows||3,onChange:v,onBlur:d,value:r.value}):n.a.createElement("select",{id:e.id,placeholder:e.label,onChange:v,onBlur:d,value:e.value},n.a.createElement("option",{value:null},e.label),e.options.map((function(e,a){return n.a.createElement("option",{key:"option.label-".concat(a),value:e.value},e.label)})));return n.a.createElement("div",{className:"form-field ".concat(!r.valid&&r.isTouched?"invalid":"valid")},p,!r.valid&&r.isTouched&&n.a.createElement("div",{className:"error"},r.error))},y=["monoton","rock-salt","audiowide","knewave"],j=y[Math.floor(Math.random()*y.length)],O=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{role:"banner",className:e.class},n.a.createElement("h1",{id:"logo",className:j},"PixMix",n.a.createElement("span",null,"R")),"minimized"===e.class&&n.a.createElement("button",{className:"reset",onClick:e.resetForm,type:"button"},"\u2699"),n.a.createElement("form",{name:"image-form",onSubmit:e.onSubmit},n.a.createElement(h,{element:"input",id:"keyword",type:"text",label:"Keyword",error:"",validators:[{type:"REQUIRE"},(a=3,{type:"MINLENGTH",val:a})],onInput:e.onInput,value:e.formState.inputs.keyword.value,valid:e.formState.inputs.keyword.valid}),n.a.createElement(h,{element:"input",id:"records",type:"number",label:"# Pictures",error:"",validators:[{type:"REQUIRE"},f(10),b(100)],onInput:e.onInput,value:e.formState.inputs.records.value,valid:e.formState.inputs.records.valid,min:10,max:100}),n.a.createElement(h,{element:"select",id:"interval",label:"Transition Speed",options:[{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"30",value:30},{label:"45",value:45},{label:"60",value:60}],error:"",validators:[{type:"REQUIRE"}],placeholder:"Select Interval",onInput:e.onInput,value:e.formState.inputs.interval.value,valid:e.formState.inputs.interval.valid}),n.a.createElement(h,{element:"toggle",id:"repeat",type:"checkbox",class:"toggle",label:"Repeat",onInput:e.onInput,error:"",validators:[],value:e.formState.inputs.repeat.value,valid:e.formState.inputs.repeat.valid}),n.a.createElement("div",{className:"form-field full"},n.a.createElement("button",{type:"submit","aria-label":"Create Gallery",disabled:!e.formState.valid},"Create Gallery")))));var a},g=function(e){var a=Object(l.useRef)(e.results.length),t=Object(l.useState)(0),r=Object(m.a)(t,2),u=r[0],i=r[1],c=Object(l.useState)(e.results[u].urls.full),s=Object(m.a)(c,2),o=s[0],v=s[1];return Object(l.useEffect)((function(){if(e.interval){var t=setInterval((function(){v(e.results[u].urls.full),a.current>1&&i(u+1)}),1e3*e.interval);return u===a.current-1&&clearInterval(t),function(){clearInterval(t)}}})),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"gallery",style:{backgroundImage:"url(".concat(o,")")}}))},N=(t(30),function(e){return n.a.createElement("div",{className:"lds-ring"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}),I=t(11),k=function(e,a){switch(a.type){case"INPUT_CHANGE":var t=!0;for(var l in e.inputs)e.inputs[l]&&(t=l===a.inputId?t&&a.valid:t&&e.inputs[l].valid);return Object(d.a)(Object(d.a)({},e),{},{inputs:Object(d.a)(Object(d.a)({},e.inputs),{},Object(I.a)({},a.inputId,{value:a.value,valid:a.valid})),valid:t});case"SET_DATA":return{inputs:a.inputs,valid:a.formIsValid};default:return e}},S={keyword:{value:"",valid:!1},records:{value:"",valid:!1},interval:{value:"",valid:!1},repeat:{value:!1,valid:!0}},x=function(e){var a=Object(l.useState)(!0),t=Object(m.a)(a,2),r=t[0],u=t[1],i=Object(l.useState)(null),c=Object(m.a)(i,2),s=c[0],d=c[1],p=Object(l.useState)(""),f=Object(m.a)(p,2),b=f[0],E=f[1],h=function(e,a){var t=Object(l.useReducer)(k,{inputs:e,valid:a}),n=Object(m.a)(t,2),r=n[0],u=n[1];return[r,Object(l.useCallback)((function(e,a,t){u({type:"INPUT_CHANGE",value:a,valid:t,inputId:e})}),[]),Object(l.useCallback)((function(e,a){u({type:"SET_DATA",inputs:e,formIsValid:a})}),[])]}(S,!1),y=Object(m.a)(h,2),j=y[0],I=y[1],x=j.inputs.keyword.value,T=j.inputs.records.value,w=Number(j.inputs.interval.value),C=j.inputs.repeat.value,R=function(){var e=Object(v.a)(o.a.mark((function e(a){var t,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&a.preventDefault(),u(!0),e.next=4,fetch("".concat("http://localhost:9000","/images?query=").concat(x,"&total=").concat(T));case 4:return t=e.sent,e.next=7,t.json();case 7:l=e.sent,d(l),u(!1),E("minimized");case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){function e(){return(e=Object(v.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:9000","/images?query=kansas+city&total=1"));case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,d(t),u(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r?n.a.createElement(N,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(O,{onSubmit:R,onInput:I,formState:j,resetForm:function(){E("")},class:b}),s.results.length&&n.a.createElement(g,{records:T,interval:w,repeat:C,results:s.results}),!s.results.length&&n.a.createElement("div",{className:"message alert"},"Bummer. No results were found. ",n.a.createElement("span",{className:"close"},"X")))},T=function(){return n.a.createElement(i.a,null,n.a.createElement("main",null,n.a.createElement(c.d,null,n.a.createElement(c.b,{path:"/",exact:!0},n.a.createElement(x,null)),n.a.createElement(c.a,{to:"/"}))))};t(36);u.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.8bfb88ee.chunk.js.map